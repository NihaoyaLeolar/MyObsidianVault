# 1. clustering
## 功能
在特定子集上，根据指定的单个或多个变量，以及单个变量在连续年级段上构成的时间序列进行聚类
## 输入
- data_path: 数据路径，用于读取学生数据生成内容。`data_path = ‘中小学学生自主学习能力.csv’`
`data = pd.read_csv(data_path)`
- concept: 概念名称
- group: `group = {'gender': [e],'city':[11 ,'region’: [0],'isGenius': [0,1]}`
	- 人群属性性别gender
	- 城乡city
	- 地区region
	- 是否天才isGenius
- cluster_num: 聚类簇数
- grade: 年级，以列表形式给出。`grade = [ 3, 4, 5]`
- algo: 选择的聚类算法，以字符串形式给出。`lalgo = 'PDBSCAN'`

## 输出

- Kmeans：聚类中心、数据点的分类
- 层次聚类：聚类结果图
- 高斯混合模型：聚类中心、 数据点的分类概率
- DBSCAN算法：聚类簇、噪声点
- 聚类结果写入文件：
```python
# 输出群体数据及聚类结果
    useData['cluster'] = kmeans.labels_
    useData.to_excel('聚类结果.xlsx')
```

- 图片存储在指定路径: `plt.savefig(output_fig_path)`

**输出数据表：**tb_output_cluster

## 2.  cureveFitting

**功能**：该算法实现了对学生自主学习能力数据的曲线拟合与可视化图片生成。

![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image012.jpg)

**输入参数**：

data_path：数据路径，用于读取学生数据生成内容。

concept：概念名称。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：年级，以列表形式给出。

algo：拟合算法，以字符串形式给出。

**输出**：

拟合曲线图片存储在指定路径：data.toexcel(output_res_path)

模型表达式各项系数：![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image014.jpg)

模型拟合度：![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image016.jpg)

**输出数据表：**tb_output_curvefitting

## 3.  impleRegularity

**功能**：进行描述统计类规律知识挖掘。

### 3.1 characteristicRegularityGeneration

![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image018.jpg)

**算法功能**：根据过滤器和规则生成单人群对应概念分析结果：平均值和标准差、最大值最小值、上下四分位数、频率直方图、概率分布图、小提琴图。

**输入参数：**

data_path：数据路径，用于读取学生数据生成内容。

concept：概念名称。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：年级，以列表形式给出。

method：选择的分析方法，以字符串的形式给出。

algo：选择的分析算法，以字符串的形式给出。

**输出**：

指定变量的平均值、标准差

指定变量的最大值、最小值

指定变量的上四分位数、中位数、下次分位数

人群属性、概念及分析结果存储在指定路径：data.toexcel(output_res_path)

指定变量的频率直方图存储在指定路径：plt.savefig(output_fig_path)

指定变量的概率分布图存储在指定路径：plt.savefig(output_fig_path)

**输出数据表：**tb_output_regu_single

### 3.2 comparativeRegularityGeneration

![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image020.jpg)

**算法功能**：进行比较差异类规律性知识挖掘，比较不同群体在某个概念上的表现，根据输入的规则生成相应的规律表达式，并可视化展示群体表现的分布情况。

**输入参数**：

concept：表示要比较的概念名称，为一个字符串。

groupList：表示要比较的群体列表，为一个包含多个字典的列表，每个字典表示一个群体，其中字典的键为群体的属性名称，值为该属性的取值列表。

![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image022.jpg)

grade：表示要比较的年级范围，为一个列表。

algo：表示要使用的比较算法，如’单因素方差分析’。

**输出**：

①   两个子集指定变量的平均值，及二者的差；

② 假设检验结果，是否具有显著性差异；

③ 对比小提琴图

人群集合、概念及分析结果存储在指定路径：data.toexcel(output_res_path)

对比小提琴图存储在指定路径：plt.savefig(output_fig_path)

**输出数据表：**tb_output_regu_multi

## 4.  studentSVM

**算法功能**：进行影响因素机制建模分析，该程序的主要功能是使用 GridSearchCV 方法寻找最佳的 SVM 参数，并输出模型的精确度等指标。

**函数参数：**

**输入：**

data_path:数据路径，用于读取学生数据生成内容。

IV_fact：自变量。

DV_fact：因变量。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：年级，以列表形式给出。

method：选择的分析方法，以字符串的形式给出。

algo：选择的分析算法，以字符串的形式给出。

**输出**：① 模型参数 ② 模型效果参数

最优参数![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image024.jpg)

ACU![](file:////Users/nihaoya/Library/Group%20Containers/UBF8T346G9.Office/TemporaryItems/msohtmlclip/clip_image026.jpg)

自变量、因变量、人群属性及结果参数存储在指定路径：data.toexcel(output_res_path)

**输出数据表：**tb_output_factor

## 5.  timeSeriesAnalysis

**算法功能**：使用 ARIMA 或简单指数平滑法对给定数据集进行时间序列分析，并输出拟合优度和预测结果。

**函数参数**：

concept：需要分析的概念名称。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：一个列表，包含数据集中的年级。

algo：所选的分析方法。

**输入参数：**

data_path：数据路径，用于读取学生数据生成内容。

concept：概念名称。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：年级，以列表形式给出。

algo：所选算法，以字符串形式给出。

**输出：**

拟合曲线图片存储在指定路径：data.toexcel(output_res_path)

模型表达式各项系数

模型拟合度

**输出数据表：**tb_output_curvefitting

## 6.  relevence

**算法功能**：指定的群体和年级中，使用关联规则挖掘技术发现不同属性之间的关联规律，并根据用户指定的规则生成相应的关联规则表达式。

**相关参数**：

concept：需要分析的概念名称。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：一个列表，包含数据集中的年级。

algo：所选的关联分析方法。

**输出：**

指定变量的关联规则

概念、人群属性及关联分析结果存储在指定路径：data.toexcel(output_res_path)

**输出数据表：**tb_output_relevence

## 7.  correlationCoefficient

**算法功能**：算两个变量之间的相关系数，并根据用户指定的规则生成相应的相关系数表达式。

**输入参数**：

data_path:数据路径，用于读取学生数据生成内容。

IV_fact：自变量。

DV_fact：因变量。

人群属性性别gender、城乡city、地区region、是否天才isGenius

grade：年级，以列表形式给出。

algo：选择的相关性算法，以字符串的形式给出。

**输出**：

皮尔逊系数及P值、秩相关系数及P值、MIC值

自变量、因变量、人群属性及结果参数存储在指定路径：data.toexcel(output_res_path)

**输出数据表：**tb_output_ factor

**算法用到的库**

Python  version:3.9.5

pandas  Version: 1.5.3

numpy  Version: 1.24.2

mlxtend  Version: 0.22.0

pyfpgrowth  Version: 1.0

matplotlib  Version: 3.6.2

sklearn  Version: 0.0.post1

seaborn  Version: 0.12.2

scipy  Version: 1.9.3

statsmodels  Version: 0.14.0

tqdm  Version: 4.65.0

csv  Version: 1.0