---
tags:
---
- [x] çœ‹æ‡‚chromaæ¥å£æœåŠ¡é¡¹ç›®
é—®é¢˜ï¼šå‘é‡åŒ–è¿™ä¸ªè¿‡ç¨‹å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæ²¡æœ‰çœ‹å¾—å¾ˆæ‡‚

## 1. å°è¯•å°†è¯¾ç¨‹æ•°æ®å‘é‡åŒ–
- [x] å­¦ä¼šä½¿ç”¨ pymongo
- [x] è°ƒç”¨å†™å¥½çš„æ¥å£ï¼Œå°†å­—æ®µå‘é‡åŒ–å­˜å…¥

ğŸŒ¶ï¸ **é—®é¢˜**ï¼šè¯»å–äº†mongoDBä¸­çš„æ‰€æœ‰documentåï¼Œå¯ä»¥ä¸€æ¬¡æ‹¿åˆ°CourseNameå­—æ®µã€‚ä½†æ˜¯åœ¨è°ƒç”¨`insertå‡½æ•°`æ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯ä¼ å…¥çš„`d`æ²¡æœ‰`textå­—æ®µ`...ä½†æ˜¯ï¼Œæœ‰å•Š...å¯èƒ½æ˜¯æˆ‘å¯¹pythonçš„è¯­æ³•ä¸ç†Ÿæ‚‰å§ï¼Ÿ

![|300](https://cdn.nlark.com/yuque/0/2023/png/25369650/1686749544475-a811b512-f1d9-4100-b81f-54dabf6ae033.png) ![|300](https://cdn.nlark.com/yuque/0/2023/png/25369650/1688026126369-9d5c9317-0d56-4e2c-b151-a101f91e80d0.png)

**å·²è§£å†³**ï¼šä¼ å…¥Documentç±»å¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—å…¸ç±»å‹ã€‚ä½†æ˜¯æ³¨æ„åˆ›å»ºå¯¹è±¡æ—¶éœ€è¦ä¼ å…¥textå­—æ®µï¼Œå› ä¸ºè¦æ±‚æ—¶å¿…é¡»ä¼ å…¥çš„ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚æœç„¶æ˜¯å¯¹pythonä¸å¤Ÿç†Ÿæ‚‰...

é€šè¿‡æ”¹å†™ä¸Šé¢çš„ä»£ç ï¼Œå†™å¥½äº†ä¸€ä¸ªdemoï¼Œå¯ä»¥ä»æ•°æ®åº“ä¸­å–å‡ºä¸œè¥¿å¹¶å­˜å…¥chromaå‘é‡åŒ–ï¼š
- å°†éœ€è¦å­˜å…¥å‘é‡æ•°æ®åº“çš„å­—ç¬¦ä¸²æ”¾åœ¨`textå­—æ®µ`
```python
import pymongo
from pymongo import MongoClient
from datastore import DataStore
from models import Document

store = DataStore()

# è¿æ¥mongoDB
mongo_client = MongoClient('localhost', 27017)
db = mongo_client['MOOC123']
collection = db['CoursesBackup-2023-06-08']

# è·å–æ•°æ®åº“ä¸­å†…å®¹
dataList = collection.find()

# å­˜å…¥chroma
for data in dataList:
    doc = Document(
        text = data['CourseName']
    )
    print(doc.text)
    store.insert("CourseTest", doc)

```
chromaä¸­è¯¾ç¨‹collection:
```
{
    "name": "CourseTest",
    "id": "fe9a07bb-d8dc-465c-852b-7efc1828b08c",
    "metadata": null
}
```

## 2. ç»§ç»­è¿›è¡Œå‘é‡åŒ–
- ä»¥è¯¾ç¨‹åå­—ä¸ºtext
- ä»¥è¯¾ç¨‹ä»‹ç»ä¸ºtext
æ³¨æ„ï¼šå¦‚æœæŠŠä¸€æ ·çš„textå­˜å…¥chromaï¼Œä¼šé‡å¤å­˜å…¥

ğŸŒ¶ï¸ **é—®é¢˜ï¼š61001ç¬¬ä¸€ä¸ªæ¥å£ï¼Œä¼ å…¥ç±»å‹çš„é—®é¢˜**
å¦‚æœä¼ å…¥çš„æ˜¯idï¼ŒæŸ¥è¯¢çš„ç»“æœæ˜¯ç©ºï¼Œä¼šè®¤ä¸ºæ²¡æ‰¾è¯¥collectionï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåå­—ä¸ºè¿™ä¸²idçš„collection...ä¼ å…¥nameæ‰æ­£å¸¸...

![400|400](https://cdn.nlark.com/yuque/0/2023/png/25369650/1688028911865-106c53ec-2a5e-4bc7-9f91-ba1a9dae10ba.png)

**å·²è§£å†³**ï¼šè€å¸ˆçš„demoä»£ç ä¸­è°ƒç”¨apiæ—¶å¯¹åº”é”™äº†ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­æ˜¯ä¼ å…¥nameã€‚æˆ‘å°†apiçš„æ¥å£å­—æ®µåæ›´æ”¹ã€‚

![475|475](https://cdn.nlark.com/yuque/0/2023/png/25369650/1688029229769-6fb0c5c2-34b8-433a-99f0-cbf04e9e0b37.png)

## 3. æ€è€ƒç”¨ä»€ä¹ˆtextå°†è¯¾ç¨‹æ•°æ®å‘é‡åŒ–æ›´å¥½
ç›®å‰è€å¸ˆæ˜¯è¯´ç”¨ï¼šContentInfo.describe
>æ³¨æ„ï¼šContentInfoé‡Œä¹Ÿå¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œè€Œä¸”decribeå­—æ®µé‡Œå¸¦æœ‰å¤§é‡htmlæ ¼å¼è¯­å¥ï¼Œæœ‰äº›å†…å®¹æ¯”è¾ƒå°‘ï¼Œæ ¼å¼è¯­å¥ç”šè‡³æ›´å¤šã€‚

ä»¥ä¸‹å­—æ®µä¹Ÿä¼šåŒ…å«è¯¾ç¨‹ä¿¡æ¯ï¼š
```text
CourseName:
SubjectInfoï¼š[]
ContentInfo[0]: Describe. Outline
```

![](https://cdn.nlark.com/yuque/0/2023/png/25369650/1688029949485-868c1625-7c1d-4548-98fb-f40a9a8c74f7.png)