---
tags:
  - JVM
---
五大部分组成
![[CleanShot 2023-12-25 at 19.25.31@2x.png|500]]
# 1. 基础信息
- [[魔数]]：文件头 - CAFEBABE
- 编译字节码文件的Jdk版本号：`jdk版本号 = 主版本号 - 44`（jdk1.2后）
	- 版本号的作用是用于判断当前字节码版本及运行是否能**兼容**
	- 低版本无法加载高版本直接码文件，有时候运行报错“主版本号不兼容”就是这个原因
- 访问标识(public final等等) 
- 父类和接口
![[CleanShot 2023-12-25 at 19.03.24@2x.png|300]]
![[CleanShot 2023-12-25 at 19.40.59@2x.png]]
# 2. 常量池

保存了字符串常量、类或接口名、字段名，主要在字节码指令中使用。
>常量池中的数据都有一个编号，编号从1开始。在字段或者字节码指令中通过编号可以快速的找到对应的数据。(字节码指令中通过编号引用到常量池的过程称之为符号引用)

**常量池的作用：避免相同的内容重复定义，节省空间。**
![[CleanShot 2023-12-25 at 19.04.50@2x.png|400]]


# 3. 字段
当前类或接口声明的字段的信息 
![[CleanShot 2023-12-25 at 19.05.37@2x.png|400]]
# 4. 方法
当前类或接口声明的方法信息字节码指令
![[CleanShot 2023-12-25 at 19.06.04@2x.png|400]]
![[CleanShot 2023-12-25 at 19.06.19@2x.png|600]]
LocalVariableTable：函数的局部变量表（本质是数组，变量对应下标）
- istore<x\> 指令：从操作数栈取出数据，放入局部变量表x下标位置
- iload<x\> 指令：将局部变量表下标为x的数据，放入操作数栈中

![[CleanShot 2023-12-25 at 19.59.29@2x.png|800]]
# 5. 属性
类的属性，比如源码的文件名内部类的列表等
![[CleanShot 2023-12-25 at 19.06.57@2x.png|400]]