---
tags:
  - 多线程编程
---
# 方法1 在Thread类中创建线程
---
```java
Thread t = new Thread("线程名")  {
	@override
	//run 方法实现线程要执行的任务
	public void run() {
		// todo
	}
};
t.start(); //启动线程
```

# 方法2 使用Runnable接口配合Thread
---
将线程和线程要执行的代码分开
```java
//创建任务对象
Runnable runnable = new Runnable() {
	public void run() {
		//todo
	}
};
//创建线程对象
Thread t = new Thread(runnable, "线程名");
//启动线程
t.start();
```

### 使用lamada表达式来简化Runnable
原因：在java中，只有一个抽象方法的接口(比如Runnable)，会有`@FunctionalInterface`注解

```java
//创建任务对象
Runnable runnable = () -> {
		//todo
};
```

```java
//或者直接创建线程时，在一个参数传入runnable
Thread t = new Thread( ()-> {}, name);
```

# 方法3 用Callable接口配合FutureTask
---
以上两种都没有关注新线程的返回值。
FuctureTask中有泛型的实现，可以获取到新建线程的返回值：
```java

Callable<Integer> callable = new Callable() {
	@override
	public Integer call() throws Exception {
		//todo 
		return 100;
	}
}

//泛型填入返回类型
FutureTask<Integer> task = new FutureTask<>(callable);

//创建线程对象
Thread t = new Thread(task, "线程名");
t.start();  //执行线程

task.get(); //阻塞，等待task中的内容执行完毕，获取返回结果
```
# 原理
---
Thread中有run方法
- 第一种直接重写了run方法
- 第二种会将Runable接口对象赋值给到thread对象中的target成员变量，在调用run方法时，如果target不是空，就调用target中的run方法